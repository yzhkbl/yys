<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeethink.system.mapper.ZyjrOverdueMapper">
    
    <resultMap type="ZyjrOverdue" id="ZyjrOverdueResult">
        <result property="id"    column="id"    />
        <result property="userName"    column="user_name"    />
        <result property="identityCard"    column="identity_card"    />
        <result property="installmentPeriod"    column="installment_period"    />
        <result property="instalmentAmount"    column="instalment_amount"    />
        <result property="monthlyPayment"    column="monthly_payment"    />
        <result property="repaymentDate"    column="repayment_date"    />
        <result property="shouldApplicable"    column="should_applicable"    />
        <result property="state"    column="state"    />
        <result property="processingStaff"    column="processing_staff"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>

    <sql id="selectZyjrOverdueVo">
        select id, user_name, identity_card, installment_period, instalment_amount, monthly_payment, repayment_date, should_applicable, state, processing_staff, create_by, create_time, update_by, update_time from zyjr_overdue
    </sql>

    <select id="selectZyjrOverdueList" parameterType="ZyjrOverdue" resultMap="ZyjrOverdueResult">
        <include refid="selectZyjrOverdueVo"/>
        <where>  
            <if test="userName != null  and userName != ''"> and user_name like concat('%', #{userName}, '%')</if>
            <if test="identityCard != null  and identityCard != ''"> and identity_card = #{identityCard}</if>
            <if test="installmentPeriod != null  and installmentPeriod != ''"> and installment_period = #{installmentPeriod}</if>
            <if test="instalmentAmount != null  and instalmentAmount != ''"> and instalment_amount = #{instalmentAmount}</if>
            <if test="monthlyPayment != null  and monthlyPayment != ''"> and monthly_payment = #{monthlyPayment}</if>
            <if test="params.beginRepaymentDate != null and params.beginRepaymentDate != '' and params.endRepaymentDate != null and params.endRepaymentDate != ''"> and repayment_date between #{params.beginRepaymentDate} and #{params.endRepaymentDate}</if>
            <if test="shouldApplicable != null  and shouldApplicable != ''"> and should_applicable = #{shouldApplicable}</if>
            <if test="state != null  and state != ''"> and state = #{state}</if>
            <if test="processingStaff != null  and processingStaff != ''"> and processing_staff = #{processingStaff}</if>
        </where>
    </select>
    
    <select id="selectZyjrOverdueById" parameterType="Long" resultMap="ZyjrOverdueResult">
        <include refid="selectZyjrOverdueVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertZyjrOverdue" parameterType="ZyjrOverdue" useGeneratedKeys="true" keyProperty="id">
        insert into zyjr_overdue
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userName != null">user_name,</if>
            <if test="identityCard != null">identity_card,</if>
            <if test="installmentPeriod != null">installment_period,</if>
            <if test="instalmentAmount != null">instalment_amount,</if>
            <if test="monthlyPayment != null">monthly_payment,</if>
            <if test="repaymentDate != null">repayment_date,</if>
            <if test="shouldApplicable != null">should_applicable,</if>
            <if test="state != null">state,</if>
            <if test="processingStaff != null">processing_staff,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userName != null">#{userName},</if>
            <if test="identityCard != null">#{identityCard},</if>
            <if test="installmentPeriod != null">#{installmentPeriod},</if>
            <if test="instalmentAmount != null">#{instalmentAmount},</if>
            <if test="monthlyPayment != null">#{monthlyPayment},</if>
            <if test="repaymentDate != null">#{repaymentDate},</if>
            <if test="shouldApplicable != null">#{shouldApplicable},</if>
            <if test="state != null">#{state},</if>
            <if test="processingStaff != null">#{processingStaff},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
         </trim>
    </insert>

    <update id="updateZyjrOverdue" parameterType="ZyjrOverdue">
        update zyjr_overdue
        <trim prefix="SET" suffixOverrides=",">
            <if test="userName != null">user_name = #{userName},</if>
            <if test="identityCard != null">identity_card = #{identityCard},</if>
            <if test="installmentPeriod != null">installment_period = #{installmentPeriod},</if>
            <if test="instalmentAmount != null">instalment_amount = #{instalmentAmount},</if>
            <if test="monthlyPayment != null">monthly_payment = #{monthlyPayment},</if>
            <if test="repaymentDate != null">repayment_date = #{repaymentDate},</if>
            <if test="shouldApplicable != null">should_applicable = #{shouldApplicable},</if>
            <if test="state != null">state = #{state},</if>
            <if test="processingStaff != null">processing_staff = #{processingStaff},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteZyjrOverdueById" parameterType="Long">
        delete from zyjr_overdue where id = #{id}
    </delete>

    <delete id="deleteZyjrOverdueByIds" parameterType="String">
        delete from zyjr_overdue where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
    
</mapper>